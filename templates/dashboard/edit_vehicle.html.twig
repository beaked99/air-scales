{# templates/dashboard/edit_vehicle.html.twig #}

{% extends 'base.html.twig' %}

{% block title %}Edit Vehicle{% endblock %}

{% block body %}
<div class="min-h-screen bg-gray-900 text-gray-100 p-6">
  <h1 class="text-2xl font-bold text-purple-400 mb-6">
    Edit Vehicle: {{ vehicle.year }} {{ vehicle.make }} {{ vehicle.model }}
  </h1>

  {% for message in app.flashes('success') %}
    <div class="bg-green-600 text-white p-3 rounded mb-4">{{ message }}</div>
  {% endfor %}

  <div class="bg-gray-800 p-6 rounded-lg shadow-md mb-8">
    {{ form_start(form, { attr: { class: 'space-y-4' } }) }}
      {{ form_row(form.year) }}
      {{ form_row(form.make) }}
      {{ form_row(form.model) }}
      {{ form_row(form.vin) }}
      {{ form_row(form.license_plate) }}
      {{ form_row(form.nickname) }}
      {{ form_row(form.axleGroup) }}
      <button type="submit" class="bg-purple-600 hover:bg-purple-700 text-white font-semibold py-2 px-4 rounded">
        Save Changes
      </button>
    {{ form_end(form) }}
  </div>

  <form method="post" action="{{ path('device_vehicle_delete', { id: vehicle.id }) }}"
        onsubmit="return confirm('Are you sure you want to delete this vehicle and unassign any linked devices?');"
        class="mb-6">
    <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ vehicle.id) }}">
    <button class="bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded">
      Delete Vehicle
    </button>
  </form>

  <a href="{{ path('app_dashboard') }}" class="text-sm text-gray-400 hover:text-gray-200">
    ‚Üê Back to Dashboard
  </a>
</div>
{% endblock %}
