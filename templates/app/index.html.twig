{# templates/app/index.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}Air Scales{% endblock %}

{% block body %}
<main data-controller="landing">
    <section id="hero">
        <h1>Track air pressure and weight in real time from your truck or trailer.</h1>
        <p>Install the app. Monitor. Sync. Drive smarter.</p>

        {% if app.user %}
            <p>Welcome back, {{ app.user.email }}.
                <a href="{{ path('dashboard') }}">Go to Dashboard</a>
            </p>
        {% else %}
            <nav>
                <a href="{{ path('app_register') }}">Create Account</a> |
                <a href="{{ path('app_login') }}">Sign In</a>
            </nav>
        {% endif %}

        <div id="installPrompt" hidden>
            <button id="installApp">Install App</button>
        </div>

        <div id="browserWarning" hidden style="color: red;"></div>
    </section>

    <section id="dashboardPreview">
        <h2>Live Dashboard Preview</h2>
        <!-- Dashboard preview here -->
        <p>[Placeholder for charts, gauges, real-time sensor display]</p>
    </section>

    <footer>
        <hr>
        <small>
            Version: {{ app_version|default('dev') }} |
            Build: {{ build_date|default('now'|date('Y-m-d')) }}
        </small>
    </footer>
</main>
{% endblock %}
